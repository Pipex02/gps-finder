<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos de Ubicación</title>

    <!-- Enlace a Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

    <!-- Enlace al archivo de estilos externo -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Imagen decorativa arriba del título -->
    <img src="satelite.png" alt="Ícono GPS" class="imagen">
    
    <h1>Datos de Ubicación</h1>
    <div class="datos">
        <p><strong>Latitud:</strong> <span id="latitud">Obteniendo...</span></p>
        <p><strong>Longitud:</strong> <span id="longitud">Obteniendo...</span></p>
        <p><strong>Estampa de Tiempo:</strong> <span id="timestamp">Obteniendo...</span></p>
    </div>
    
    <!-- GIF animado -->
    <img src="Gqgs.gif" alt="GIF animado" class="gif-animado">

    <script>
        async function obtenerCoordenadasDesdeAPI() {
            try {
                const respuesta = await fetch('/api/coordenadas');  
                if (!respuesta.ok) {
                    throw new Error('Error al obtener datos de la API');
                }
                const datos = await respuesta.json();

                if (datos.latitud && datos.longitud && datos.timestamp) {
                    document.getElementById("latitud").innerText = datos.latitud;
                    document.getElementById("longitud").innerText = datos.longitud;
                    document.getElementById("timestamp").innerText = new Date(datos.timestamp).toLocaleString();
                }
            } catch (error) {
                console.error('❌ Error al obtener datos:', error);
            }
        }

        obtenerCoordenadasDesdeAPI();
        setInterval(obtenerCoordenadasDesdeAPI, 5000);  // Se actualiza cada 5 segundos
    </script>
</body>
</html>
